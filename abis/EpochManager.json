{"abi":[{"type":"constructor","inputs":[{"name":"_initialEpochDuration","type":"uint256","internalType":"uint256"},{"name":"_initialAutomatedSystem","type":"address","internalType":"address"},{"name":"_initialOwner","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"allocateVaultYield","inputs":[{"name":"vault","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"automatedSystem","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"beginEpochProcessing","inputs":[{"name":"epochId","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"currentEpochId","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"epochDuration","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"epochs","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"id","type":"uint256","internalType":"uint256"},{"name":"startTime","type":"uint256","internalType":"uint256"},{"name":"endTime","type":"uint256","internalType":"uint256"},{"name":"totalYieldAvailable","type":"uint256","internalType":"uint256"},{"name":"totalSubsidiesDistributed","type":"uint256","internalType":"uint256"},{"name":"status","type":"uint8","internalType":"enum EpochManager.EpochStatus"}],"stateMutability":"view"},{"type":"function","name":"finalizeEpoch","inputs":[{"name":"epochId","type":"uint256","internalType":"uint256"},{"name":"subsidiesDistributed","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getCurrentEpochDetails","inputs":[],"outputs":[{"name":"id","type":"uint256","internalType":"uint256"},{"name":"startTime","type":"uint256","internalType":"uint256"},{"name":"endTime","type":"uint256","internalType":"uint256"},{"name":"totalYieldAvailable","type":"uint256","internalType":"uint256"},{"name":"totalSubsidiesDistributed","type":"uint256","internalType":"uint256"},{"name":"status","type":"uint8","internalType":"enum EpochManager.EpochStatus"}],"stateMutability":"view"},{"type":"function","name":"getCurrentEpochId","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getEpochDetails","inputs":[{"name":"epochId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"id","type":"uint256","internalType":"uint256"},{"name":"startTime","type":"uint256","internalType":"uint256"},{"name":"endTime","type":"uint256","internalType":"uint256"},{"name":"totalYieldAvailable","type":"uint256","internalType":"uint256"},{"name":"totalSubsidiesDistributed","type":"uint256","internalType":"uint256"},{"name":"status","type":"uint8","internalType":"enum EpochManager.EpochStatus"}],"stateMutability":"view"},{"type":"function","name":"getVaultYieldForEpoch","inputs":[{"name":"epochId","type":"uint256","internalType":"uint256"},{"name":"vault","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setAutomatedSystem","inputs":[{"name":"newAutomatedSystem","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setEpochDuration","inputs":[{"name":"newDuration","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"startNewEpoch","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"AutomatedSystemUpdated","inputs":[{"name":"newAutomatedSystem","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"EpochDurationUpdated","inputs":[{"name":"newDuration","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"EpochFinalized","inputs":[{"name":"epochId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"totalYieldAvailable","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"totalSubsidiesDistributed","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"EpochStarted","inputs":[{"name":"epochId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"startTime","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"endTime","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"VaultYieldAllocated","inputs":[{"name":"epochId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"vault","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"EpochManager__EpochNotEnded","inputs":[{"name":"epochId","type":"uint256","internalType":"uint256"},{"name":"endTime","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"EpochManager__EpochStillActive","inputs":[]},{"type":"error","name":"EpochManager__InvalidEpochDuration","inputs":[]},{"type":"error","name":"EpochManager__InvalidEpochId","inputs":[{"name":"epochId","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"EpochManager__InvalidEpochStatus","inputs":[{"name":"epochId","type":"uint256","internalType":"uint256"},{"name":"currentStatus","type":"uint8","internalType":"enum EpochManager.EpochStatus"},{"name":"expectedStatus","type":"uint8","internalType":"enum EpochManager.EpochStatus"}]},{"type":"error","name":"EpochManager__Unauthorized","inputs":[]},{"type":"error","name":"OwnableInvalidOwner","inputs":[{"name":"owner","type":"address","internalType":"address"}]},{"type":"error","name":"OwnableUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"ReentrancyGuardReentrantCall","inputs":[]}],"bytecode":{"object":"0x60803461010d57601f610b3438819003918201601f19168301916001600160401b038311848410176101115780849260609460405283398101031261010d5780519061004d60208201610125565b906001600160a01b039061006390604001610125565b169182156100fa575f80546001600160a01b031981168517825560405194916001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a36001805580156100eb57600255600580546001600160a01b0319166001600160a01b03929092169190911790556109fa908161013a8239f35b63154e957f60e31b5f5260045ffd5b631e4fbdf760e01b5f525f60045260245ffd5b5f80fd5b634e487b7160e01b5f52604160045260245ffd5b51906001600160a01b038216820361010d5756fe6080806040526004361015610012575f80fd5b5f3560e01c9081630c56e48f146108cc5750806329f4e5ea1461080057806330024dfe1461079e5780633aab0a62146106685780634ff0876a1461064b57806351355ff9146105775780635b72502a1461054f5780635c3d7516146104e8578063715018a6146104915780638da5cb5b1461046a578063a29a839f14610274578063aa74a00314610400578063b7a36a48146102e4578063c6b61e4c14610291578063eacdc5ff14610274578063f05ca914146101605763f2fde38b146100d7575f80fd5b3461015c57602036600319011261015c576100f061095b565b6100f861097e565b6001600160a01b03168015610149575f80546001600160a01b03198116831782556001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3005b631e4fbdf760e01b5f525f60045260245ffd5b5f80fd5b3461015c57604036600319011261015c5761017961095b565b602435906101856109a4565b600354801561026157805f52600460205260405f209060ff60058301541690600482101561024d576001820361022c57505060039060018060a01b0383165f526006810160205260405f206101db858254610971565b9055016101e9838254610971565b90556003546040519283526001600160a01b03909116917f43abc09e3b41a1936d0e8658afafda3e766e0b3867e56c7184b156bc027c35a690602090a360018055005b63da6bfe9560e01b5f52600452610243915061091b565b600160445260645ffd5b634e487b7160e01b5f52602160045260245ffd5b63bdd09f9d60e01b5f525f60045260245ffd5b3461015c575f36600319011261015c576020600354604051908152f35b3461015c57602036600319011261015c576004355f52600460205260405f2080546102e0600183015492600281015490600381015460ff60056004840154930154169260405196879687610929565b0390f35b3461015c57604036600319011261015c576004356103006109a4565b6005546001600160a01b0316331415806103ec575b6103dd57801580156103d2575b6103c057805f52600460205260405f20600581019060ff825416600481101561024d576002810361039e57507fb463d19ecf455be65365092cf8e1db6934a0334cf8cd532ddf9964d01f36b5b2916003826004604094019260243584558260ff198254161790550154905482519182526020820152a260018055005b63da6bfe9560e01b5f5260048490526103b69061091b565b600260445260645ffd5b63bdd09f9d60e01b5f5260045260245ffd5b506003548111610322565b6314d8f44f60e11b5f5260045ffd5b505f546001600160a01b0316331415610315565b3461015c57604036600319011261015c576024356004356001600160a01b038216820361015c578015801561045f575b6103c0575f526004602052600660405f20019060018060a01b03165f52602052602060405f2054604051908152f35b506003548111610430565b3461015c575f36600319011261015c575f546040516001600160a01b039091168152602090f35b3461015c575f36600319011261015c576104a961097e565b5f80546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a3005b3461015c57602036600319011261015c5760043580158015610544575b6103c0575f52600460205260405f2080546102e0600183015492600281015490600381015460ff60056004840154930154169260405196879687610929565b506003548111610505565b3461015c575f36600319011261015c576005546040516001600160a01b039091168152602090f35b3461015c57602036600319011261015c576004356105936109a4565b6005546001600160a01b031633141580610637575b6103dd578015801561062c575b6103c057805f52600460205260405f2090600582019160ff835416600481101561024d5760018103610614575060020154908142106105ff57825460ff1916600217835560018055005b636004833d60e11b5f5260045260245260445ffd5b63da6bfe9560e01b5f5260048390526102439061091b565b5060035481116105b5565b505f546001600160a01b03163314156105a8565b3461015c575f36600319011261015c576020600254604051908152f35b3461015c575f36600319011261015c576106806109a4565b6005546001600160a01b03163314158061078a575b6103dd5760035480610740575b5f19811461072c576001018060035560056106bf60025442610971565b91805f52600460205260405f209081554260018201558260028201555f60038201555f600482015501600160ff198254161790557f29db3deb62ef2036e5eb93aad68d2362aec0711af592cb365566603bd88651d46040600354928151904282526020820152a260018055005b634e487b7160e01b5f52601160045260245ffd5b805f52600460205260ff600560405f20015416600481101561024d576003810361076a57506106a2565b6107809163da6bfe9560e01b5f5260045261091b565b600360445260645ffd5b505f546001600160a01b0316331415610695565b3461015c57602036600319011261015c576004356107ba61097e565b80156107f1576020817fbfdcfb557a8f4a07f749e7d744a90c02e13eb5af308b561c2f4f17e58069c83692600255604051908152a1005b63154e957f60e31b5f5260045ffd5b3461015c57602036600319011261015c5761081961095b565b61082161097e565b6001600160a01b0316801561086857600580546001600160a01b031916821790557f1c6fe769a20f866bfd0db3e537f5c2c5f9854d28104cc67eec39b10b360860ee5f80a2005b60405162461bcd60e51b815260206004820152603660248201527f45706f63684d616e616765723a204175746f6d617465642073797374656d206160448201527532323932b9b99031b0b73737ba103132903d32b9379760511b6064820152608490fd5b3461015c575f36600319011261015c576003548015610261575f526004602052806102e060405f208054906001810154600282015460038301549160ff60056004860154950154169487610929565b600481101561024d57602452565b939196959492909660c085019785526020850152604084015260608301526080820152600482101561024d5760a00152565b600435906001600160a01b038216820361015c57565b9190820180921161072c57565b5f546001600160a01b0316330361099157565b63118cdaa760e01b5f523360045260245ffd5b6002600154146109b5576002600155565b633ee5aeb560e01b5f5260045ffdfea26469706673582212209fb2c6cfdeb77fd2225324cefc090383602d5e9ede66754774b6da8369b2895e64736f6c634300081e0033","sourceMap":"405:12921:76:-:0;;;;;;;;;;;;;-1:-1:-1;;405:12921:76;;;;-1:-1:-1;;;;;405:12921:76;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;-1:-1:-1;;;;;405:12921:76;;;;;;:::i;:::-;;1273:26:2;;;1269:95;;-1:-1:-1;405:12921:76;;-1:-1:-1;;;;;;405:12921:76;;;;;;;;;;-1:-1:-1;;;;;405:12921:76;;;;3052:40:2;;-1:-1:-1;3052:40:2;405:12921:76;;;4857:26;;4853:100;;4962:37;405:12921;5009:41;405:12921;;-1:-1:-1;;;;;;405:12921:76;-1:-1:-1;;;;;405:12921:76;;;;;;;;;;;;;;;;;4853:100;4906:36;;;-1:-1:-1;4906:36:76;;-1:-1:-1;4906:36:76;1269:95:2;1322:31;;;-1:-1:-1;1322:31:2;-1:-1:-1;1322:31:2;405:12921:76;;-1:-1:-1;1322:31:2;405:12921:76;-1:-1:-1;405:12921:76;;;;;;-1:-1:-1;405:12921:76;;;;;-1:-1:-1;405:12921:76;;;;-1:-1:-1;;;;;405:12921:76;;;;;;:::o","linkReferences":{}},"deployedBytecode":{"object":"0x6080806040526004361015610012575f80fd5b5f3560e01c9081630c56e48f146108cc5750806329f4e5ea1461080057806330024dfe1461079e5780633aab0a62146106685780634ff0876a1461064b57806351355ff9146105775780635b72502a1461054f5780635c3d7516146104e8578063715018a6146104915780638da5cb5b1461046a578063a29a839f14610274578063aa74a00314610400578063b7a36a48146102e4578063c6b61e4c14610291578063eacdc5ff14610274578063f05ca914146101605763f2fde38b146100d7575f80fd5b3461015c57602036600319011261015c576100f061095b565b6100f861097e565b6001600160a01b03168015610149575f80546001600160a01b03198116831782556001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3005b631e4fbdf760e01b5f525f60045260245ffd5b5f80fd5b3461015c57604036600319011261015c5761017961095b565b602435906101856109a4565b600354801561026157805f52600460205260405f209060ff60058301541690600482101561024d576001820361022c57505060039060018060a01b0383165f526006810160205260405f206101db858254610971565b9055016101e9838254610971565b90556003546040519283526001600160a01b03909116917f43abc09e3b41a1936d0e8658afafda3e766e0b3867e56c7184b156bc027c35a690602090a360018055005b63da6bfe9560e01b5f52600452610243915061091b565b600160445260645ffd5b634e487b7160e01b5f52602160045260245ffd5b63bdd09f9d60e01b5f525f60045260245ffd5b3461015c575f36600319011261015c576020600354604051908152f35b3461015c57602036600319011261015c576004355f52600460205260405f2080546102e0600183015492600281015490600381015460ff60056004840154930154169260405196879687610929565b0390f35b3461015c57604036600319011261015c576004356103006109a4565b6005546001600160a01b0316331415806103ec575b6103dd57801580156103d2575b6103c057805f52600460205260405f20600581019060ff825416600481101561024d576002810361039e57507fb463d19ecf455be65365092cf8e1db6934a0334cf8cd532ddf9964d01f36b5b2916003826004604094019260243584558260ff198254161790550154905482519182526020820152a260018055005b63da6bfe9560e01b5f5260048490526103b69061091b565b600260445260645ffd5b63bdd09f9d60e01b5f5260045260245ffd5b506003548111610322565b6314d8f44f60e11b5f5260045ffd5b505f546001600160a01b0316331415610315565b3461015c57604036600319011261015c576024356004356001600160a01b038216820361015c578015801561045f575b6103c0575f526004602052600660405f20019060018060a01b03165f52602052602060405f2054604051908152f35b506003548111610430565b3461015c575f36600319011261015c575f546040516001600160a01b039091168152602090f35b3461015c575f36600319011261015c576104a961097e565b5f80546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a3005b3461015c57602036600319011261015c5760043580158015610544575b6103c0575f52600460205260405f2080546102e0600183015492600281015490600381015460ff60056004840154930154169260405196879687610929565b506003548111610505565b3461015c575f36600319011261015c576005546040516001600160a01b039091168152602090f35b3461015c57602036600319011261015c576004356105936109a4565b6005546001600160a01b031633141580610637575b6103dd578015801561062c575b6103c057805f52600460205260405f2090600582019160ff835416600481101561024d5760018103610614575060020154908142106105ff57825460ff1916600217835560018055005b636004833d60e11b5f5260045260245260445ffd5b63da6bfe9560e01b5f5260048390526102439061091b565b5060035481116105b5565b505f546001600160a01b03163314156105a8565b3461015c575f36600319011261015c576020600254604051908152f35b3461015c575f36600319011261015c576106806109a4565b6005546001600160a01b03163314158061078a575b6103dd5760035480610740575b5f19811461072c576001018060035560056106bf60025442610971565b91805f52600460205260405f209081554260018201558260028201555f60038201555f600482015501600160ff198254161790557f29db3deb62ef2036e5eb93aad68d2362aec0711af592cb365566603bd88651d46040600354928151904282526020820152a260018055005b634e487b7160e01b5f52601160045260245ffd5b805f52600460205260ff600560405f20015416600481101561024d576003810361076a57506106a2565b6107809163da6bfe9560e01b5f5260045261091b565b600360445260645ffd5b505f546001600160a01b0316331415610695565b3461015c57602036600319011261015c576004356107ba61097e565b80156107f1576020817fbfdcfb557a8f4a07f749e7d744a90c02e13eb5af308b561c2f4f17e58069c83692600255604051908152a1005b63154e957f60e31b5f5260045ffd5b3461015c57602036600319011261015c5761081961095b565b61082161097e565b6001600160a01b0316801561086857600580546001600160a01b031916821790557f1c6fe769a20f866bfd0db3e537f5c2c5f9854d28104cc67eec39b10b360860ee5f80a2005b60405162461bcd60e51b815260206004820152603660248201527f45706f63684d616e616765723a204175746f6d617465642073797374656d206160448201527532323932b9b99031b0b73737ba103132903d32b9379760511b6064820152608490fd5b3461015c575f36600319011261015c576003548015610261575f526004602052806102e060405f208054906001810154600282015460038301549160ff60056004860154950154169487610929565b600481101561024d57602452565b939196959492909660c085019785526020850152604084015260608301526080820152600482101561024d5760a00152565b600435906001600160a01b038216820361015c57565b9190820180921161072c57565b5f546001600160a01b0316330361099157565b63118cdaa760e01b5f523360045260245ffd5b6002600154146109b5576002600155565b633ee5aeb560e01b5f5260045ffdfea26469706673582212209fb2c6cfdeb77fd2225324cefc090383602d5e9ede66754774b6da8369b2895e64736f6c634300081e0033","sourceMap":"405:12921:76:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;405:12921:76;;;;;;:::i;:::-;1500:62:2;;:::i;:::-;-1:-1:-1;;;;;405:12921:76;2627:22:2;;2623:91;;405:12921:76;;;-1:-1:-1;;;;;;405:12921:76;;;;;;-1:-1:-1;;;;;405:12921:76;;3052:40:2;;405:12921:76;3052:40:2;405:12921:76;2623:91:2;2672:31;;;405:12921:76;2672:31:2;405:12921:76;;;;;2672:31:2;405:12921:76;;;;;;;;;;-1:-1:-1;;405:12921:76;;;;;;:::i;:::-;;;2466:103:33;;;:::i;:::-;6943:14:76;405:12921;6943:19;;6939:88;;405:12921;;;;;;;;;7107:25;405:12921;7107:25;;;405:12921;;;;;;;;;;7107:47;;7103:180;;7293:45;;6943:14;7293:45;405:12921;;;;;;;-1:-1:-1;405:12921:76;7293:38;;;405:12921;;;-1:-1:-1;405:12921:76;7293:55;405:12921;;;7293:55;:::i;:::-;405:12921;;7358:38;:48;405:12921;;;7358:48;:::i;:::-;405:12921;;6943:14;405:12921;;;;;;-1:-1:-1;;;;;405:12921:76;;;;7422:50;;405:12921;;7422:50;405:12921;;;;7103:180;-1:-1:-1;;;405:12921:76;7177:95;405:12921;;;;-1:-1:-1;405:12921:76;:::i;:::-;;;;;;7177:95;405:12921;;;;;;;;;;;;6939:88;13073:31;;;405:12921;6985:31;405:12921;;;;;6985:31;405:12921;;;;;;-1:-1:-1;;405:12921:76;;;;;2765:29;405:12921;;;;;;;;;;;;;-1:-1:-1;;405:12921:76;;;;;;;;;;;;;;;;;;2800:39;;405:12921;2800:39;;;;405:12921;2800:39;;;;405:12921;;2800:39;405:12921;2800:39;;405:12921;2800:39;;405:12921;;;;;;;;;;:::i;:::-;;;;;;;;;;-1:-1:-1;;405:12921:76;;;;;;2466:103:33;;:::i;:::-;4243:15:76;405:12921;-1:-1:-1;;;;;405:12921:76;4229:10;:29;;;:54;;405:12921;4225:120;;9041:12;;:40;;;;405:12921;9037:115;;405:12921;;;;;;;;;4243:15;9213:12;;405:12921;;;;;;;;;;;9229:22;9213:38;;9209:155;;9374:31;9490:83;9374:31;9453:21;9374:31;405:12921;;9374:31;;405:12921;;;;;;;;;;;;;;9514:25;405:12921;;;;;;;;;;;;9490:83;405:12921;;;;9209:155;-1:-1:-1;;;405:12921:76;9274:79;405:12921;;;;;;;:::i;:::-;9229:22;405:12921;;;;9274:79;9037:115;13073:31;;;405:12921;9104:37;405:12921;;;;9104:37;9041:40;405:12921;9067:14;405:12921;9057:24;;9041:40;;4225:120;4306:28;;;405:12921;4306:28;405:12921;;4306:28;4229:54;-1:-1:-1;405:12921:76;;-1:-1:-1;;;;;405:12921:76;4229:10;4262:21;;4229:54;;405:12921;;;;;;-1:-1:-1;;405:12921:76;;;;;;;;-1:-1:-1;;;;;405:12921:76;;;;;;11837:12;;:40;;;;405:12921;11833:115;;405:12921;;;;;11964:35;405:12921;;;11964:35;:42;405:12921;;;;;;-1:-1:-1;405:12921:76;;;;;-1:-1:-1;405:12921:76;;;;;;;;11837:40;405:12921;11863:14;405:12921;11853:24;;11837:40;;405:12921;;;;;;-1:-1:-1;;405:12921:76;;;;;;;;-1:-1:-1;;;;;405:12921:76;;;;;;;;;;;;;;-1:-1:-1;;405:12921:76;;;;1500:62:2;;:::i;:::-;405:12921:76;;;-1:-1:-1;;;;;;405:12921:76;;;;-1:-1:-1;;;;;405:12921:76;3052:40:2;405:12921:76;;3052:40:2;405:12921:76;;;;;;;-1:-1:-1;;405:12921:76;;;;;;11196:12;;:40;;;;405:12921;11192:115;;405:12921;;;;;;;;;;;;11373:11;;405:12921;11386:9;;;;405:12921;11397:21;;;;405:12921;;11449:8;405:12921;11420:27;;405:12921;11449:8;;405:12921;;;;;;;;;;:::i;11196:40::-;405:12921;11222:14;405:12921;11212:24;;11196:40;;405:12921;;;;;;-1:-1:-1;;405:12921:76;;;;2846:30;405:12921;;;-1:-1:-1;;;;;405:12921:76;;;;;;;;;;;;;;-1:-1:-1;;405:12921:76;;;;;;2466:103:33;;:::i;:::-;4243:15:76;405:12921;-1:-1:-1;;;;;405:12921:76;4229:10;:29;;;:54;;405:12921;4225:120;;7900:12;;:40;;;;405:12921;7896:115;;405:12921;;;;;;;;;8072:12;4243:15;8072:12;;405:12921;;;;;;;;;;;;8072:34;;8068:147;;8246:13;;;405:12921;8228:15;;;:31;8224:120;;405:12921;;-1:-1:-1;;405:12921:76;8246:13;405:12921;;;-1:-1:-1;405:12921:76;;;8224:120;8282:51;;;405:12921;8282:51;405:12921;;;;;;8282:51;8068:147;-1:-1:-1;;;405:12921:76;8129:75;405:12921;;;;;;;:::i;7900:40::-;405:12921;7926:14;405:12921;7916:24;;7900:40;;4229:54;-1:-1:-1;405:12921:76;;-1:-1:-1;;;;;405:12921:76;4229:10;4262:21;;4229:54;;405:12921;;;;;;-1:-1:-1;;405:12921:76;;;;;2679:28;405:12921;;;;;;;;;;;;;-1:-1:-1;;405:12921:76;;;;2466:103:33;;:::i;:::-;4243:15:76;405:12921;-1:-1:-1;;;;;405:12921:76;4229:10;:29;;;:54;;405:12921;4225:120;;5420:14;405:12921;5420:18;5416:295;;405:12921;-1:-1:-1;;405:12921:76;;;;;;;5420:14;405:12921;4243:15;5810:25;5822:13;405:12921;5767:15;5810:25;:::i;:::-;405:12921;;;;;;;;;;;;;5767:15;405:12921;5941:18;;405:12921;5981:16;5822:13;5981:16;;405:12921;;5420:14;6017:28;;405:12921;;;6059:34;;405:12921;6107:15;405:12921;;;;;;;;;6239:48;405:12921;5420:14;405:12921;;;;5767:15;;405:12921;;;;;;6239:48;405:12921;;;;;;;;;;;;;;;;5416:295;405:12921;;;;;;;4243:15;405:12921;;;5523:19;405:12921;;;;;;;;5420:14;5523:44;;5519:182;;5416:295;;;5519:182;405:12921;5594:92;;;;405:12921;5594:92;405:12921;;;:::i;:::-;5420:14;405:12921;;;;5594:92;4229:54;-1:-1:-1;405:12921:76;;-1:-1:-1;;;;;405:12921:76;4229:10;4262:21;;4229:54;;405:12921;;;;;;-1:-1:-1;;405:12921:76;;;;;;1500:62:2;;:::i;:::-;9785:16:76;;9781:90;;405:12921;;9922:33;405:12921;9880:27;405:12921;;;;;;9922:33;405:12921;9781:90;9824:36;;;405:12921;9824:36;405:12921;;9824:36;405:12921;;;;;;-1:-1:-1;;405:12921:76;;;;;;:::i;:::-;1500:62:2;;:::i;:::-;-1:-1:-1;;;;;405:12921:76;10208:32;;10204:127;;10340:36;405:12921;;-1:-1:-1;;;;;;405:12921:76;;;;;10391:42;-1:-1:-1;;10391:42:76;405:12921;10204:127;405:12921;;-1:-1:-1;;;10256:64:76;;405:12921;;10256:64;;405:12921;;;;;;;;;;;-1:-1:-1;;;405:12921:76;;;;10256:64;;;405:12921;;;;;;-1:-1:-1;;405:12921:76;;;;13031:14;405:12921;13031:19;;13027:132;;405:12921;;;;;;;;;;;;13232:11;;;;405:12921;13245:9;;;405:12921;13031:14;13256:21;;405:12921;13279:27;405:12921;13308:8;405:12921;13279:27;;405:12921;13308:8;;405:12921;;;;;:::i;:::-;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;-1:-1:-1;;;;;405:12921:76;;;;;;:::o;:::-;;;;;;;;;;:::o;1796:162:2:-;1710:6;405:12921:76;-1:-1:-1;;;;;405:12921:76;735:10:29;1855:23:2;1851:101;;1796:162::o;1851:101::-;1901:40;;;1710:6;1901:40;735:10:29;1901:40:2;405:12921:76;;1710:6:2;1901:40;2575:307:33;1899:1;2702:7;405:12921:76;2702:18:33;2698:86;;1899:1;2702:7;405:12921:76;2575:307:33:o;2698:86::-;2743:30;;;-1:-1:-1;2743:30:33;;-1:-1:-1;2743:30:33","linkReferences":{}},"methodIdentifiers":{"allocateVaultYield(address,uint256)":"f05ca914","automatedSystem()":"5b72502a","beginEpochProcessing(uint256)":"51355ff9","currentEpochId()":"eacdc5ff","epochDuration()":"4ff0876a","epochs(uint256)":"c6b61e4c","finalizeEpoch(uint256,uint256)":"b7a36a48","getCurrentEpochDetails()":"0c56e48f","getCurrentEpochId()":"a29a839f","getEpochDetails(uint256)":"5c3d7516","getVaultYieldForEpoch(uint256,address)":"aa74a003","owner()":"8da5cb5b","renounceOwnership()":"715018a6","setAutomatedSystem(address)":"29f4e5ea","setEpochDuration(uint256)":"30024dfe","startNewEpoch()":"3aab0a62","transferOwnership(address)":"f2fde38b"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_initialEpochDuration\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_initialAutomatedSystem\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_initialOwner\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"epochId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"endTime\",\"type\":\"uint256\"}],\"name\":\"EpochManager__EpochNotEnded\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"EpochManager__EpochStillActive\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"EpochManager__InvalidEpochDuration\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"epochId\",\"type\":\"uint256\"}],\"name\":\"EpochManager__InvalidEpochId\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"epochId\",\"type\":\"uint256\"},{\"internalType\":\"enum EpochManager.EpochStatus\",\"name\":\"currentStatus\",\"type\":\"uint8\"},{\"internalType\":\"enum EpochManager.EpochStatus\",\"name\":\"expectedStatus\",\"type\":\"uint8\"}],\"name\":\"EpochManager__InvalidEpochStatus\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"EpochManager__Unauthorized\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"OwnableInvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"OwnableUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrancyGuardReentrantCall\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newAutomatedSystem\",\"type\":\"address\"}],\"name\":\"AutomatedSystemUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newDuration\",\"type\":\"uint256\"}],\"name\":\"EpochDurationUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"epochId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalYieldAvailable\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalSubsidiesDistributed\",\"type\":\"uint256\"}],\"name\":\"EpochFinalized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"epochId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"startTime\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"endTime\",\"type\":\"uint256\"}],\"name\":\"EpochStarted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"epochId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"VaultYieldAllocated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"allocateVaultYield\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"automatedSystem\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"epochId\",\"type\":\"uint256\"}],\"name\":\"beginEpochProcessing\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentEpochId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"epochDuration\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"epochs\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"endTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalYieldAvailable\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalSubsidiesDistributed\",\"type\":\"uint256\"},{\"internalType\":\"enum EpochManager.EpochStatus\",\"name\":\"status\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"epochId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"subsidiesDistributed\",\"type\":\"uint256\"}],\"name\":\"finalizeEpoch\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentEpochDetails\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"endTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalYieldAvailable\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalSubsidiesDistributed\",\"type\":\"uint256\"},{\"internalType\":\"enum EpochManager.EpochStatus\",\"name\":\"status\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentEpochId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"epochId\",\"type\":\"uint256\"}],\"name\":\"getEpochDetails\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"endTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalYieldAvailable\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalSubsidiesDistributed\",\"type\":\"uint256\"},{\"internalType\":\"enum EpochManager.EpochStatus\",\"name\":\"status\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"epochId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"}],\"name\":\"getVaultYieldForEpoch\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newAutomatedSystem\",\"type\":\"address\"}],\"name\":\"setAutomatedSystem\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newDuration\",\"type\":\"uint256\"}],\"name\":\"setEpochDuration\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"startNewEpoch\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Roo\",\"errors\":{\"EpochManager__EpochNotEnded(uint256,uint256)\":[{\"details\":\"Thrown when trying to finalize an epoch that has not ended yet.\",\"params\":{\"endTime\":\"The end time of the epoch.\",\"epochId\":\"The ID of the epoch.\"}}],\"EpochManager__EpochStillActive()\":[{\"details\":\"Thrown when trying to start a new epoch while the current one is still active.\"}],\"EpochManager__InvalidEpochDuration()\":[{\"details\":\"Thrown when the epoch duration is set to zero.\"}],\"EpochManager__InvalidEpochId(uint256)\":[{\"details\":\"Thrown when an invalid epoch ID is provided.\",\"params\":{\"epochId\":\"The invalid epoch ID.\"}}],\"EpochManager__InvalidEpochStatus(uint256,uint8,uint8)\":[{\"details\":\"Thrown when trying to operate on an epoch that is not in the expected state.\",\"params\":{\"currentStatus\":\"The current status of the epoch.\",\"epochId\":\"The ID of the epoch.\",\"expectedStatus\":\"The expected status for the operation.\"}}],\"EpochManager__Unauthorized()\":[{\"details\":\"Thrown when an action is attempted by an unauthorized address.\"}],\"OwnableInvalidOwner(address)\":[{\"details\":\"The owner is not a valid owner account. (eg. `address(0)`)\"}],\"OwnableUnauthorizedAccount(address)\":[{\"details\":\"The caller account is not authorized to perform an operation.\"}],\"ReentrancyGuardReentrantCall()\":[{\"details\":\"Unauthorized reentrant call.\"}]},\"events\":{\"AutomatedSystemUpdated(address)\":{\"details\":\"Emitted when the automated system address is updated.\",\"params\":{\"newAutomatedSystem\":\"The new address authorized for automated system interactions.\"}},\"EpochDurationUpdated(uint256)\":{\"details\":\"Emitted when the epoch duration is updated.\",\"params\":{\"newDuration\":\"The new duration for epochs in seconds.\"}},\"EpochFinalized(uint256,uint256,uint256)\":{\"details\":\"Emitted when an epoch is finalized.\",\"params\":{\"epochId\":\"The ID of the epoch being finalized.\",\"totalSubsidiesDistributed\":\"The total subsidies distributed during the epoch.\",\"totalYieldAvailable\":\"The total yield available for the epoch.\"}},\"EpochStarted(uint256,uint256,uint256)\":{\"details\":\"Emitted when a new epoch is started.\",\"params\":{\"endTime\":\"The end timestamp of the epoch.\",\"epochId\":\"The ID of the new epoch.\",\"startTime\":\"The start timestamp of the epoch.\"}},\"VaultYieldAllocated(uint256,address,uint256)\":{\"details\":\"Emitted when yield is allocated to a vault for a specific epoch.\",\"params\":{\"amount\":\"The amount of yield allocated.\",\"epochId\":\"The ID of the epoch.\",\"vault\":\"The address of the vault.\"}}},\"kind\":\"dev\",\"methods\":{\"allocateVaultYield(address,uint256)\":{\"details\":\"This function is expected to be called by a CollectionsVault contract when it allocates its yield for the epoch.\",\"params\":{\"amount\":\"The amount of yield being allocated.\",\"vault\":\"The address of the CollectionsVault.\"}},\"beginEpochProcessing(uint256)\":{\"details\":\"This indicates that the epoch has ended and subsidy calculations/distributions are underway. Can only be called by the automated system or owner.\",\"params\":{\"epochId\":\"The ID of the epoch to begin processing.\"}},\"constructor\":{\"params\":{\"_initialAutomatedSystem\":\"The address of the automated system that will interact with this contract.\",\"_initialEpochDuration\":\"The initial duration for epochs (e.g., 7 days in seconds).\",\"_initialOwner\":\"The initial owner of the contract.\"}},\"finalizeEpoch(uint256,uint256)\":{\"details\":\"Records the total subsidies distributed during the epoch. Can only be called by the automated system or owner.\",\"params\":{\"epochId\":\"The ID of the epoch to finalize.\",\"subsidiesDistributed\":\"The total amount of subsidies distributed for this epoch.\"}},\"getCurrentEpochDetails()\":{\"details\":\"Reverts if no epoch is active or has been started.\",\"returns\":{\"endTime\":\"The end timestamp.\",\"id\":\"The epoch ID.\",\"startTime\":\"The start timestamp.\",\"status\":\"The current status of the epoch.\",\"totalSubsidiesDistributed\":\"Total subsidies distributed.\",\"totalYieldAvailable\":\"Total yield available for the epoch.\"}},\"getCurrentEpochId()\":{\"returns\":{\"_0\":\"The current epoch ID.\"}},\"getEpochDetails(uint256)\":{\"params\":{\"epochId\":\"The ID of the epoch.\"},\"returns\":{\"endTime\":\"The end timestamp.\",\"id\":\"The epoch ID.\",\"startTime\":\"The start timestamp.\",\"status\":\"The current status of the epoch.\",\"totalSubsidiesDistributed\":\"Total subsidies distributed.\",\"totalYieldAvailable\":\"Total yield available for the epoch.\"}},\"getVaultYieldForEpoch(uint256,address)\":{\"params\":{\"epochId\":\"The ID of the epoch.\",\"vault\":\"The address of the vault.\"},\"returns\":{\"_0\":\"The amount of yield allocated by the vault for the epoch.\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"setAutomatedSystem(address)\":{\"params\":{\"newAutomatedSystem\":\"The new address for the automated system.\"}},\"setEpochDuration(uint256)\":{\"params\":{\"newDuration\":\"The new duration in seconds.\"}},\"startNewEpoch()\":{\"details\":\"Can only be called by the automated system or owner. The previous epoch (if any) must be 'Completed' or this is the first epoch.\"},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"}},\"title\":\"EpochManager\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"allocateVaultYield(address,uint256)\":{\"notice\":\"Allocates yield from a specific vault to the current active epoch.\"},\"beginEpochProcessing(uint256)\":{\"notice\":\"Transitions an active epoch to the Processing state.\"},\"constructor\":{\"notice\":\"Initializes the EpochManager contract.\"},\"finalizeEpoch(uint256,uint256)\":{\"notice\":\"Finalizes a processing epoch, marking it as Completed.\"},\"getCurrentEpochDetails()\":{\"notice\":\"Returns the details of the current epoch.\"},\"getCurrentEpochId()\":{\"notice\":\"Returns the ID of the current epoch. If no epoch has started, returns 0.\"},\"getEpochDetails(uint256)\":{\"notice\":\"Gets the details of a specific epoch.\"},\"getVaultYieldForEpoch(uint256,address)\":{\"notice\":\"Gets the yield allocated by a specific vault for a given epoch.\"},\"setAutomatedSystem(address)\":{\"notice\":\"Updates the address of the automated system.\"},\"setEpochDuration(uint256)\":{\"notice\":\"Updates the duration for epochs.\"},\"startNewEpoch()\":{\"notice\":\"Starts a new epoch.\"}},\"notice\":\"Manages the lifecycle of epochs for distributing rewards. It handles epoch creation, state transitions, and yield allocation tracking.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/EpochManager.sol\":\"EpochManager\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin-contracts-5.2.0/=dependencies/@openzeppelin-contracts-5.2.0/\",\":@openzeppelin-contracts-5.3.0/=dependencies/@openzeppelin-contracts-5.3.0/\",\":@openzeppelin-contracts-upgradeable-5.3.0/=dependencies/@openzeppelin-contracts-upgradeable-5.3.0/\",\":@openzeppelin/contracts-upgradeable/=dependencies/@openzeppelin-contracts-upgradeable-5.3.0/\",\":@openzeppelin/contracts/=dependencies/@openzeppelin-contracts-5.3.0/\",\":compound-protocol-2.8.1/=dependencies/compound-protocol-2.8.1/\",\":forge-std-1.9.6/=dependencies/forge-std-1.9.6/src/\",\":forge-std/=lib/forge-std/src/\"],\"viaIR\":true},\"sources\":{\"dependencies/@openzeppelin-contracts-5.3.0/access/Ownable.sol\":{\"keccak256\":\"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6\",\"dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a\"]},\"dependencies/@openzeppelin-contracts-5.3.0/utils/Context.sol\":{\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12\",\"dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF\"]},\"dependencies/@openzeppelin-contracts-5.3.0/utils/ReentrancyGuard.sol\":{\"keccak256\":\"0x11a5a79827df29e915a12740caf62fe21ebe27c08c9ae3e09abe9ee3ba3866d3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3cf0c69ab827e3251db9ee6a50647d62c90ba580a4d7bbff21f2bea39e7b2f4a\",\"dweb:/ipfs/QmZiKwtKU1SBX4RGfQtY7PZfiapbbu6SZ9vizGQD9UHjRA\"]},\"src/EpochManager.sol\":{\"keccak256\":\"0x2a56f67d90bd0320bd95e7231da80175a0f31ae0a425c1a57907799ac7230d9a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bbb72824d3afef60c7522da39108b8674777b1a57dd080ca8c52aa19e7f37e84\",\"dweb:/ipfs/QmRy8TH7MgNbayCDsegdkw3pK8UpfeVvjUr6CoqHyaSFmX\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint256","name":"_initialEpochDuration","type":"uint256"},{"internalType":"address","name":"_initialAutomatedSystem","type":"address"},{"internalType":"address","name":"_initialOwner","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"epochId","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"}],"type":"error","name":"EpochManager__EpochNotEnded"},{"inputs":[],"type":"error","name":"EpochManager__EpochStillActive"},{"inputs":[],"type":"error","name":"EpochManager__InvalidEpochDuration"},{"inputs":[{"internalType":"uint256","name":"epochId","type":"uint256"}],"type":"error","name":"EpochManager__InvalidEpochId"},{"inputs":[{"internalType":"uint256","name":"epochId","type":"uint256"},{"internalType":"enum EpochManager.EpochStatus","name":"currentStatus","type":"uint8"},{"internalType":"enum EpochManager.EpochStatus","name":"expectedStatus","type":"uint8"}],"type":"error","name":"EpochManager__InvalidEpochStatus"},{"inputs":[],"type":"error","name":"EpochManager__Unauthorized"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"type":"error","name":"OwnableInvalidOwner"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"type":"error","name":"OwnableUnauthorizedAccount"},{"inputs":[],"type":"error","name":"ReentrancyGuardReentrantCall"},{"inputs":[{"internalType":"address","name":"newAutomatedSystem","type":"address","indexed":true}],"type":"event","name":"AutomatedSystemUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"newDuration","type":"uint256","indexed":false}],"type":"event","name":"EpochDurationUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"epochId","type":"uint256","indexed":true},{"internalType":"uint256","name":"totalYieldAvailable","type":"uint256","indexed":false},{"internalType":"uint256","name":"totalSubsidiesDistributed","type":"uint256","indexed":false}],"type":"event","name":"EpochFinalized","anonymous":false},{"inputs":[{"internalType":"uint256","name":"epochId","type":"uint256","indexed":true},{"internalType":"uint256","name":"startTime","type":"uint256","indexed":false},{"internalType":"uint256","name":"endTime","type":"uint256","indexed":false}],"type":"event","name":"EpochStarted","anonymous":false},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[{"internalType":"uint256","name":"epochId","type":"uint256","indexed":true},{"internalType":"address","name":"vault","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"VaultYieldAllocated","anonymous":false},{"inputs":[{"internalType":"address","name":"vault","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"allocateVaultYield"},{"inputs":[],"stateMutability":"view","type":"function","name":"automatedSystem","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"epochId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"beginEpochProcessing"},{"inputs":[],"stateMutability":"view","type":"function","name":"currentEpochId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"epochDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"epochs","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"uint256","name":"totalYieldAvailable","type":"uint256"},{"internalType":"uint256","name":"totalSubsidiesDistributed","type":"uint256"},{"internalType":"enum EpochManager.EpochStatus","name":"status","type":"uint8"}]},{"inputs":[{"internalType":"uint256","name":"epochId","type":"uint256"},{"internalType":"uint256","name":"subsidiesDistributed","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"finalizeEpoch"},{"inputs":[],"stateMutability":"view","type":"function","name":"getCurrentEpochDetails","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"uint256","name":"totalYieldAvailable","type":"uint256"},{"internalType":"uint256","name":"totalSubsidiesDistributed","type":"uint256"},{"internalType":"enum EpochManager.EpochStatus","name":"status","type":"uint8"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getCurrentEpochId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"epochId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getEpochDetails","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"uint256","name":"totalYieldAvailable","type":"uint256"},{"internalType":"uint256","name":"totalSubsidiesDistributed","type":"uint256"},{"internalType":"enum EpochManager.EpochStatus","name":"status","type":"uint8"}]},{"inputs":[{"internalType":"uint256","name":"epochId","type":"uint256"},{"internalType":"address","name":"vault","type":"address"}],"stateMutability":"view","type":"function","name":"getVaultYieldForEpoch","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"renounceOwnership"},{"inputs":[{"internalType":"address","name":"newAutomatedSystem","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setAutomatedSystem"},{"inputs":[{"internalType":"uint256","name":"newDuration","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setEpochDuration"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"startNewEpoch"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"}],"devdoc":{"kind":"dev","methods":{"allocateVaultYield(address,uint256)":{"details":"This function is expected to be called by a CollectionsVault contract when it allocates its yield for the epoch.","params":{"amount":"The amount of yield being allocated.","vault":"The address of the CollectionsVault."}},"beginEpochProcessing(uint256)":{"details":"This indicates that the epoch has ended and subsidy calculations/distributions are underway. Can only be called by the automated system or owner.","params":{"epochId":"The ID of the epoch to begin processing."}},"constructor":{"params":{"_initialAutomatedSystem":"The address of the automated system that will interact with this contract.","_initialEpochDuration":"The initial duration for epochs (e.g., 7 days in seconds).","_initialOwner":"The initial owner of the contract."}},"finalizeEpoch(uint256,uint256)":{"details":"Records the total subsidies distributed during the epoch. Can only be called by the automated system or owner.","params":{"epochId":"The ID of the epoch to finalize.","subsidiesDistributed":"The total amount of subsidies distributed for this epoch."}},"getCurrentEpochDetails()":{"details":"Reverts if no epoch is active or has been started.","returns":{"endTime":"The end timestamp.","id":"The epoch ID.","startTime":"The start timestamp.","status":"The current status of the epoch.","totalSubsidiesDistributed":"Total subsidies distributed.","totalYieldAvailable":"Total yield available for the epoch."}},"getCurrentEpochId()":{"returns":{"_0":"The current epoch ID."}},"getEpochDetails(uint256)":{"params":{"epochId":"The ID of the epoch."},"returns":{"endTime":"The end timestamp.","id":"The epoch ID.","startTime":"The start timestamp.","status":"The current status of the epoch.","totalSubsidiesDistributed":"Total subsidies distributed.","totalYieldAvailable":"Total yield available for the epoch."}},"getVaultYieldForEpoch(uint256,address)":{"params":{"epochId":"The ID of the epoch.","vault":"The address of the vault."},"returns":{"_0":"The amount of yield allocated by the vault for the epoch."}},"owner()":{"details":"Returns the address of the current owner."},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."},"setAutomatedSystem(address)":{"params":{"newAutomatedSystem":"The new address for the automated system."}},"setEpochDuration(uint256)":{"params":{"newDuration":"The new duration in seconds."}},"startNewEpoch()":{"details":"Can only be called by the automated system or owner. The previous epoch (if any) must be 'Completed' or this is the first epoch."},"transferOwnership(address)":{"details":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."}},"version":1},"userdoc":{"kind":"user","methods":{"allocateVaultYield(address,uint256)":{"notice":"Allocates yield from a specific vault to the current active epoch."},"beginEpochProcessing(uint256)":{"notice":"Transitions an active epoch to the Processing state."},"constructor":{"notice":"Initializes the EpochManager contract."},"finalizeEpoch(uint256,uint256)":{"notice":"Finalizes a processing epoch, marking it as Completed."},"getCurrentEpochDetails()":{"notice":"Returns the details of the current epoch."},"getCurrentEpochId()":{"notice":"Returns the ID of the current epoch. If no epoch has started, returns 0."},"getEpochDetails(uint256)":{"notice":"Gets the details of a specific epoch."},"getVaultYieldForEpoch(uint256,address)":{"notice":"Gets the yield allocated by a specific vault for a given epoch."},"setAutomatedSystem(address)":{"notice":"Updates the address of the automated system."},"setEpochDuration(uint256)":{"notice":"Updates the duration for epochs."},"startNewEpoch()":{"notice":"Starts a new epoch."}},"version":1}},"settings":{"remappings":["@openzeppelin-contracts-5.2.0/=dependencies/@openzeppelin-contracts-5.2.0/","@openzeppelin-contracts-5.3.0/=dependencies/@openzeppelin-contracts-5.3.0/","@openzeppelin-contracts-upgradeable-5.3.0/=dependencies/@openzeppelin-contracts-upgradeable-5.3.0/","@openzeppelin/contracts-upgradeable/=dependencies/@openzeppelin-contracts-upgradeable-5.3.0/","@openzeppelin/contracts/=dependencies/@openzeppelin-contracts-5.3.0/","compound-protocol-2.8.1/=dependencies/compound-protocol-2.8.1/","forge-std-1.9.6/=dependencies/forge-std-1.9.6/src/","forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/EpochManager.sol":"EpochManager"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"dependencies/@openzeppelin-contracts-5.3.0/access/Ownable.sol":{"keccak256":"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb","urls":["bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6","dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a"],"license":"MIT"},"dependencies/@openzeppelin-contracts-5.3.0/utils/Context.sol":{"keccak256":"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2","urls":["bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12","dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"],"license":"MIT"},"dependencies/@openzeppelin-contracts-5.3.0/utils/ReentrancyGuard.sol":{"keccak256":"0x11a5a79827df29e915a12740caf62fe21ebe27c08c9ae3e09abe9ee3ba3866d3","urls":["bzz-raw://3cf0c69ab827e3251db9ee6a50647d62c90ba580a4d7bbff21f2bea39e7b2f4a","dweb:/ipfs/QmZiKwtKU1SBX4RGfQtY7PZfiapbbu6SZ9vizGQD9UHjRA"],"license":"MIT"},"src/EpochManager.sol":{"keccak256":"0x2a56f67d90bd0320bd95e7231da80175a0f31ae0a425c1a57907799ac7230d9a","urls":["bzz-raw://bbb72824d3afef60c7522da39108b8674777b1a57dd080ca8c52aa19e7f37e84","dweb:/ipfs/QmRy8TH7MgNbayCDsegdkw3pK8UpfeVvjUr6CoqHyaSFmX"],"license":"MIT"}},"version":1},"id":76}